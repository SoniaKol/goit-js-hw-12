{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const downloaderContainer = document.querySelector('.loader');\n\nfunction createMarkUp(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL: img,\n        largeImageURL: originalImg,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"img-card\">\n      <a class=\"img-card-link\" href=\"${originalImg}\"><img src=\"${img}\" alt=\"${tags}\" class=\"img-card-image\" /></a>\n        <ul class=\"img-card-container\">\n          <li class=\"img-card-descr\">\n            <h4 class=\"img-card-descr-title\">Likes</h4>\n            <p class=\"img-card-descr-text\">${likes}</p>\n          </li>\n          <li class=\"img-card-descr\">\n            <h4 class=\"img-card-descr-title\">Views</h4>\n            <p class=\"img-card-descr-text\">${views}</p>\n          </li>\n          <li class=\"img-card-descr\">\n            <h4 class=\"img-card-descr-title\">Comments</h4>\n            <p class=\"img-card-descr-text\">${comments}</p>\n          </li>\n          <li class=\"img-card-descr\">\n            <h4 class=\"img-card-descr-title\">Downloads</h4>\n            <p class=\"img-card-descr-text\">${downloads}</p>\n          </li>\n        </ul>\n      </li>`\n    )\n    .join('');\n}\n\nfunction loaderVisibly() {\n  downloaderContainer.style.visibility = 'visible';\n}\n\nfunction loaderHidden() {\n  downloaderContainer.style.visibility = 'hidden';\n}\n\nexport { createMarkUp, loaderVisibly, loaderHidden };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { list, form } from '../main.js';\nimport {\n  createMarkUp,\n  loaderHidden,\n  loaderVisibly,\n} from './render-functions.js';\n\nfunction searchImg(request) {\n  list.innerHTML = '';\n  loaderVisibly();\n\n  const lightbox = new SimpleLightbox('.img-card a');\n\n  const searchParams = new URLSearchParams({\n    key: '44792163-757e44859b12a96dc64963414',\n    q: request,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    })\n    .then(data => {\n      if (checkResult(data.hits)) {\n        loaderHidden();\n        list.innerHTML = createMarkUp(data.hits);\n        lightbox.refresh();\n      }\n    })\n    .catch(err => console.log(err))\n    .finally(() => form.reset());\n}\n\nfunction checkResult(arr) {\n  if (arr.length === 0) {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      color: 'red',\n      position: 'topRight',\n    });\n    loaderHidden();\n    return;\n  }\n\n  return true;\n}\n\nexport default searchImg;\n","import searchImg from './js/pixabay-api';\nimport 'modern-normalize/modern-normalize.css';\n\nconst form = document.querySelector('.form');\nconst list = document.querySelector('.img-list');\n\nform.addEventListener('submit', formHandler);\n\nfunction formHandler(evt) {\n  evt.preventDefault();\n\n  const req = evt.target.elements[0].value.trim();\n  if (!req) return;\n\n  searchImg(req);\n}\n\nexport { list, form };\n"],"names":["downloaderContainer","createMarkUp","arr","img","originalImg","tags","likes","views","comments","downloads","loaderVisibly","loaderHidden","searchImg","request","list","lightbox","SimpleLightbox","searchParams","res","data","checkResult","err","form","iziToast","formHandler","evt","req"],"mappings":"6vBAAA,MAAMA,EAAsB,SAAS,cAAc,SAAS,EAE5D,SAASC,EAAaC,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,aAAcC,EACd,cAAeC,EACf,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,uCAC+BL,CAAW,eAAeD,CAAG,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,6CAIrCC,CAAK;AAAA;AAAA;AAAA;AAAA,6CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,6CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,6CAIRC,CAAS;AAAA;AAAA;AAAA,YAIjD,EACA,KAAK,EAAE,CACZ,CAEA,SAASC,GAAgB,CACvBV,EAAoB,MAAM,WAAa,SACzC,CAEA,SAASW,GAAe,CACtBX,EAAoB,MAAM,WAAa,QACzC,CClCA,SAASY,EAAUC,EAAS,CAC1BC,EAAK,UAAY,GACjBJ,IAEA,MAAMK,EAAW,IAAIC,EAAe,aAAa,EAE3CC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,MAAM,4BAA4BI,CAAY,EAAE,EAC7C,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKC,GAAQ,CACRC,EAAYD,EAAK,IAAI,IACvBR,IACAG,EAAK,UAAYb,EAAakB,EAAK,IAAI,EACvCJ,EAAS,QAAO,EAExB,CAAK,EACA,MAAMM,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQ,IAAMC,EAAK,MAAK,CAAE,CAC/B,CAEA,SAASF,EAAYlB,EAAK,CACxB,GAAIA,EAAI,SAAW,EAAG,CACpBqB,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,MACP,SAAU,UAChB,CAAK,EACDZ,IACA,MACD,CAED,MAAO,EACT,CCrDA,MAAMW,EAAO,SAAS,cAAc,OAAO,EACrCR,EAAO,SAAS,cAAc,WAAW,EAE/CQ,EAAK,iBAAiB,SAAUE,CAAW,EAE3C,SAASA,EAAYC,EAAK,CACxBA,EAAI,eAAc,EAElB,MAAMC,EAAMD,EAAI,OAAO,SAAS,CAAC,EAAE,MAAM,OACpCC,GAELd,EAAUc,CAAG,CACf"}