{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const downloaderContainer = document.querySelector('.loader');\n\nfunction createMarkUp(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL: img,\n        largeImageURL: originalImg,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"img-card\">\n      <a class=\"img-card-link\" href=\"${originalImg}\"><img src=\"${img}\" alt=\"${tags}\" class=\"img-card-image\" /></a>\n        <ul class=\"img-card-container\">\n          <li class=\"img-card-descr\">\n            <h4 class=\"img-card-descr-title\">Likes</h4>\n            <p class=\"img-card-descr-text\">${likes}</p>\n          </li>\n          <li class=\"img-card-descr\">\n            <h4 class=\"img-card-descr-title\">Views</h4>\n            <p class=\"img-card-descr-text\">${views}</p>\n          </li>\n          <li class=\"img-card-descr\">\n            <h4 class=\"img-card-descr-title\">Comments</h4>\n            <p class=\"img-card-descr-text\">${comments}</p>\n          </li>\n          <li class=\"img-card-descr\">\n            <h4 class=\"img-card-descr-title\">Downloads</h4>\n            <p class=\"img-card-descr-text\">${downloads}</p>\n          </li>\n        </ul>\n      </li>`\n    )\n    .join('');\n}\n\nfunction loaderVisibly() {\n  downloaderContainer.style.visibility = 'visible';\n}\n\nfunction loaderHidden() {\n  downloaderContainer.style.visibility = 'hidden';\n}\n\nexport { createMarkUp, loaderVisibly, loaderHidden };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\nimport { list, form } from '../main.js';\nimport {\n  createMarkUp,\n  loaderHidden,\n  loaderVisibly,\n} from './render-functions.js';\n\nasync function searchImg(request) {\n  list.innerHTML = '';\n  loaderVisibly();\n\n  const lightbox = new SimpleLightbox('.img-card a');\n\n  axios.defaults.baseURL = 'https://pixabay.com/api/';\n\n  const searchParams = new URLSearchParams({\n    key: '44792163-757e44859b12a96dc64963414',\n    q: request,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const response = (await axios.get(`?${searchParams}`)).data;\n\n  try {\n    if (checkResult(response.hits)) {\n      loaderHidden();\n      list.innerHTML = createMarkUp(response.hits);\n      lightbox.refresh();\n    }\n  } catch (err) {\n    console.log(err);\n  } finally {\n    form.reset();\n  }\n}\n\nfunction checkResult(arr) {\n  if (arr.length === 0) {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      color: 'red',\n      position: 'topRight',\n    });\n    loaderHidden();\n    return;\n  }\n\n  return true;\n}\n\nexport default searchImg;\n","import searchImg from './js/pixabay-api';\nimport 'modern-normalize/modern-normalize.css';\n\nconst form = document.querySelector('.form');\nconst list = document.querySelector('.img-list');\n\nform.addEventListener('submit', formHandler);\n\nfunction formHandler(evt) {\n  evt.preventDefault();\n\n  const req = evt.target.elements[0].value.trim();\n  if (!req) return;\n\n  searchImg(req);\n}\n\nexport { list, form };\n"],"names":["downloaderContainer","createMarkUp","arr","img","originalImg","tags","likes","views","comments","downloads","loaderVisibly","loaderHidden","searchImg","request","list","lightbox","SimpleLightbox","axios","searchParams","response","checkResult","err","form","iziToast","formHandler","evt","req"],"mappings":"owBAAA,MAAMA,EAAsB,SAAS,cAAc,SAAS,EAE5D,SAASC,EAAaC,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,aAAcC,EACd,cAAeC,EACf,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,uCAC+BL,CAAW,eAAeD,CAAG,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,6CAIrCC,CAAK;AAAA;AAAA;AAAA;AAAA,6CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,6CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,6CAIRC,CAAS;AAAA;AAAA;AAAA,YAIjD,EACA,KAAK,EAAE,CACZ,CAEA,SAASC,GAAgB,CACvBV,EAAoB,MAAM,WAAa,SACzC,CAEA,SAASW,GAAe,CACtBX,EAAoB,MAAM,WAAa,QACzC,CCjCA,eAAeY,EAAUC,EAAS,CAChCC,EAAK,UAAY,GACjBJ,IAEA,MAAMK,EAAW,IAAIC,EAAe,aAAa,EAEjDC,EAAM,SAAS,QAAU,2BAEzB,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGL,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKM,GAAY,MAAMF,EAAM,IAAI,IAAIC,CAAY,EAAE,GAAG,KAEvD,GAAI,CACEE,EAAYD,EAAS,IAAI,IAC3BR,IACAG,EAAK,UAAYb,EAAakB,EAAS,IAAI,EAC3CJ,EAAS,QAAO,EAEnB,OAAQM,EAAK,CACZ,QAAQ,IAAIA,CAAG,CACnB,QAAY,CACRC,EAAK,MAAK,CACX,CACH,CAEA,SAASF,EAAYlB,EAAK,CACxB,GAAIA,EAAI,SAAW,EAAG,CACpBqB,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,MACP,SAAU,UAChB,CAAK,EACDZ,IACA,MACD,CAED,MAAO,EACT,CCrDA,MAAMW,EAAO,SAAS,cAAc,OAAO,EACrCR,EAAO,SAAS,cAAc,WAAW,EAE/CQ,EAAK,iBAAiB,SAAUE,CAAW,EAE3C,SAASA,EAAYC,EAAK,CACxBA,EAAI,eAAc,EAElB,MAAMC,EAAMD,EAAI,OAAO,SAAS,CAAC,EAAE,MAAM,OACpCC,GAELd,EAAUc,CAAG,CACf"}